[gd_scene load_steps=24 format=2]

[ext_resource path="res://assets/railroads/engine.ogg" type="AudioStream" id=1]
[ext_resource path="res://assets/throttle.png" type="Texture" id=2]
[ext_resource path="res://assets/railroads/progressbar_white.tres" type="StyleBox" id=3]
[ext_resource path="res://assets/UI/settings-corner.png" type="Texture" id=4]
[ext_resource path="res://assets/UI/left.png" type="Texture" id=5]
[ext_resource path="res://assets/UI/right.png" type="Texture" id=6]
[ext_resource path="res://assets/UI/straight.png" type="Texture" id=7]
[ext_resource path="res://assets/railroads/FullTrain_v2.gd" type="Script" id=8]
[ext_resource path="res://assets/UI/switch.ogg" type="AudioStream" id=9]
[ext_resource path="res://GL2.tres" type="Environment" id=10]
[ext_resource path="res://Minimap.gd" type="Script" id=11]
[ext_resource path="res://assets/UI/maps-and-location.png" type="Texture" id=12]
[ext_resource path="res://Minimap-Element.tscn" type="PackedScene" id=13]
[ext_resource path="res://assets/UI/commuter.png" type="Texture" id=14]
[ext_resource path="res://fonts/montreal/Montreal.tres" type="DynamicFont" id=15]
[ext_resource path="res://assets/UI/train.png" type="Texture" id=16]
[ext_resource path="res://assets/UI/money_32.png" type="Texture" id=17]
[ext_resource path="res://assets/UI/dooropen.png" type="Texture" id=18]

[sub_resource type="ViewportTexture" id=1]
viewport_path = NodePath("cammount/cammount/DynaRes/MainViewport")

[sub_resource type="Environment" id=2]
background_mode = 1
background_color = Color( 0.52549, 0.52549, 0.52549, 0.509804 )

[sub_resource type="StyleBoxFlat" id=3]
bg_color = Color( 0.6, 0.6, 0.6, 0.380392 )

[sub_resource type="StyleBoxEmpty" id=4]

[sub_resource type="ViewportTexture" id=5]
viewport_path = NodePath("cammount/cammount/DynaRes/MainViewport/Camera/MiniMapViewport")

[node name="FullTrain_v2" type="Spatial"]
script = ExtResource( 8 )

[node name="cammount" type="Spatial" parent="."]

[node name="EngineSound" type="AudioStreamPlayer" parent="cammount"]
stream = ExtResource( 1 )

[node name="cammount" type="Spatial" parent="cammount"]
transform = Transform( -0.707107, 0.5, -0.5, 0, 0.707107, 0.707107, 0.707107, 0.5, -0.5, 0, 0, 0 )

[node name="DynaRes" type="TextureRect" parent="cammount/cammount"]
anchor_right = 1.0
anchor_bottom = 1.0
texture = SubResource( 1 )
expand = true
stretch_mode = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="MainViewport" type="Viewport" parent="cammount/cammount/DynaRes"]
size = Vector2( 200, 100 )
handle_input_locally = false
msaa = 4
render_target_v_flip = true

[node name="Camera" type="Camera" parent="cammount/cammount/DynaRes/MainViewport"]
transform = Transform( -0.707107, 0.5, -0.5, 0, 0.707107, 0.707107, 0.707107, 0.5, -0.5, -30, 42.4264, -30 )
cull_mask = 1
environment = ExtResource( 10 )
projection = 1
current = true
size = 30.0
near = 9.71

[node name="MiniMapViewport" type="Viewport" parent="cammount/cammount/DynaRes/MainViewport/Camera"]
size = Vector2( 1920, 1080 )
transparent_bg = true
msaa = 4
usage = 3
render_target_v_flip = true
render_target_update_mode = 0

[node name="Camera" type="Camera" parent="cammount/cammount/DynaRes/MainViewport/Camera/MiniMapViewport"]
transform = Transform( -0.707107, 0.5, -0.5, 0, 0.707107, 0.707107, 0.707107, 0.5, -0.5, 0, 0, 0 )
cull_mask = 1048574
environment = SubResource( 2 )
projection = 1
current = true
size = 2000.0
near = 0.01
far = 5000.0

[node name="Timer" type="Timer" parent="cammount/cammount/DynaRes/MainViewport/Camera/MiniMapViewport"]
wait_time = 2.0
autostart = true

[node name="DirectionalLight" type="DirectionalLight" parent="cammount/cammount/DynaRes/MainViewport/Camera"]
visible = false
light_energy = 0.3

[node name="Minimap-Element" parent="cammount/cammount" instance=ExtResource( 13 )]
type = "Train"

[node name="Control" type="Control" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -0.323975
margin_top = -0.323975
margin_right = -0.323975
margin_bottom = -0.323975
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Throttle" type="Control" parent="Control"]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -327.0
margin_top = -1078.0
rect_pivot_offset = Vector2( 327, 1078 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ProgressBar" type="ProgressBar" parent="Control/Throttle"]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -167.369
margin_top = -82.9999
margin_right = 582.631
margin_bottom = -68.9999
rect_rotation = -90.0
rect_pivot_offset = Vector2( 0, 6.5 )
mouse_default_cursor_shape = 2
custom_styles/fg = ExtResource( 3 )
custom_styles/bg = SubResource( 3 )
max_value = 1.0
step = 0.001
value = 0.5
percent_visible = false
__meta__ = {
"_edit_use_anchors_": false
}

[node name="VSlider" type="VSlider" parent="Control/Throttle"]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -247.0
margin_top = -832.0
margin_right = -89.0
margin_bottom = -72.0
rect_pivot_offset = Vector2( 79, 760 )
focus_mode = 0
mouse_default_cursor_shape = 2
custom_icons/grabber_disabled = ExtResource( 2 )
custom_icons/grabber_highlight = ExtResource( 2 )
custom_icons/grabber = ExtResource( 2 )
custom_styles/slider = SubResource( 4 )
max_value = 1.0
step = 0.001
scrollable = false
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Control" type="Control" parent="Control"]
anchor_top = 1.0
anchor_bottom = 1.0
margin_top = -185.0
margin_right = 584.0
margin_bottom = 7.0
rect_pivot_offset = Vector2( 0, 192 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="left" type="Button" parent="Control/Control"]
margin_left = 44.0
margin_top = 17.0
margin_right = 184.0
margin_bottom = 151.0
focus_mode = 0
mouse_default_cursor_shape = 2
action_mode = 0
icon = ExtResource( 5 )
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="straight" type="Button" parent="Control/Control"]
margin_left = 224.0
margin_top = 17.0
margin_right = 364.0
margin_bottom = 151.0
focus_mode = 0
mouse_default_cursor_shape = 2
icon = ExtResource( 7 )
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="right" type="Button" parent="Control/Control"]
margin_left = 404.0
margin_top = 17.0
margin_right = 544.0
margin_bottom = 151.0
focus_mode = 0
mouse_default_cursor_shape = 2
icon = ExtResource( 6 )
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="door" type="Button" parent="Control/Control"]
visible = false
margin_left = 584.0
margin_top = 17.0
margin_right = 724.0
margin_bottom = 151.0
focus_mode = 0
mouse_default_cursor_shape = 2
enabled_focus_mode = 0
icon = ExtResource( 18 )
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="SwitchSound" type="AudioStreamPlayer" parent="Control/Control"]
stream = ExtResource( 9 )

[node name="Minimap" type="Control" parent="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2
script = ExtResource( 11 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect" type="ColorRect" parent="Control/Minimap"]
modulate = Color( 1, 1, 1, 0 )
self_modulate = Color( 0, 0, 0, 0.815686 )
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2
color = Color( 0, 0.121569, 0.0313726, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="TextureRect" type="TextureRect" parent="Control/Minimap/ColorRect"]
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2
texture = SubResource( 5 )
expand = true
stretch_mode = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="TRCorner" type="Control" parent="Control"]
anchor_left = 1.0
anchor_right = 1.0
margin_left = -352.0
margin_bottom = 230.0
rect_pivot_offset = Vector2( 352, 0 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="MapButton" type="Button" parent="Control/TRCorner"]
anchor_left = 1.0
anchor_right = 1.0
margin_left = -227.0
margin_top = 74.0
margin_right = -86.9999
margin_bottom = 208.0
rect_pivot_offset = Vector2( 140, 0 )
focus_mode = 0
mouse_default_cursor_shape = 2
enabled_focus_mode = 0
icon = ExtResource( 12 )
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="TLCorner" type="Control" parent="Control"]
anchor_right = 1.0
margin_bottom = 53.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect" type="ColorRect" parent="Control/TLCorner"]
anchor_right = 1.0
anchor_bottom = 1.0
color = Color( 0, 0, 0, 0.611765 )

[node name="FPSLabel" type="Label" parent="Control/TLCorner"]
anchor_left = 1.0
anchor_right = 1.0
margin_left = -176.0
margin_top = 6.0
margin_right = -14.0
margin_bottom = 55.0
custom_fonts/font = ExtResource( 15 )
custom_colors/font_color = Color( 1, 1, 1, 1 )
custom_colors/font_outline_modulate = Color( 0, 0, 0, 1 )
text = "FPS: XX"
uppercase = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Com1" type="TextureRect" parent="Control/TLCorner"]
self_modulate = Color( 1, 0, 0, 1 )
margin_left = 151.813
margin_top = 10.1713
margin_right = 183.813
margin_bottom = 42.1713
texture = ExtResource( 14 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="Control/TLCorner/Com1"]
margin_left = 33.9905
margin_top = -3.3327
margin_right = 83.9905
margin_bottom = 36.6673
custom_fonts/font = ExtResource( 15 )
text = "123"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Com2" type="TextureRect" parent="Control/TLCorner"]
self_modulate = Color( 0, 1, 0, 1 )
margin_left = 251.813
margin_top = 10.1713
margin_right = 283.813
margin_bottom = 42.1713
texture = ExtResource( 14 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="Control/TLCorner/Com2"]
margin_left = 33.9905
margin_top = -3.3327
margin_right = 83.9905
margin_bottom = 36.6673
custom_fonts/font = ExtResource( 15 )
text = "123"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Com3" type="TextureRect" parent="Control/TLCorner"]
self_modulate = Color( 0, 0, 1, 1 )
margin_left = 351.813
margin_top = 10.1713
margin_right = 383.813
margin_bottom = 42.1713
texture = ExtResource( 14 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="Control/TLCorner/Com3"]
margin_left = 33.9905
margin_top = -3.3327
margin_right = 83.9905
margin_bottom = 36.6673
custom_fonts/font = ExtResource( 15 )
text = "123"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Com4" type="TextureRect" parent="Control/TLCorner"]
self_modulate = Color( 1, 1, 0, 1 )
margin_left = 451.813
margin_top = 10.1713
margin_right = 483.813
margin_bottom = 42.1713
texture = ExtResource( 14 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="Control/TLCorner/Com4"]
margin_left = 33.9905
margin_top = -3.3327
margin_right = 83.9905
margin_bottom = 36.6673
custom_fonts/font = ExtResource( 15 )
text = "123"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Com5" type="TextureRect" parent="Control/TLCorner"]
self_modulate = Color( 1, 0, 1, 1 )
margin_left = 551.813
margin_top = 10.1713
margin_right = 583.813
margin_bottom = 42.1713
texture = ExtResource( 14 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="Control/TLCorner/Com5"]
margin_left = 33.9905
margin_top = -3.3327
margin_right = 83.9905
margin_bottom = 36.6673
custom_fonts/font = ExtResource( 15 )
text = "123"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Com6" type="TextureRect" parent="Control/TLCorner"]
self_modulate = Color( 0, 1, 1, 1 )
margin_left = 651.813
margin_top = 10.1713
margin_right = 683.813
margin_bottom = 42.1713
texture = ExtResource( 14 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="Control/TLCorner/Com6"]
margin_left = 33.9905
margin_top = -3.3327
margin_right = 83.9905
margin_bottom = 36.6673
custom_fonts/font = ExtResource( 15 )
text = "123"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Com7" type="TextureRect" parent="Control/TLCorner"]
margin_left = 831.813
margin_top = 13.1713
margin_right = 921.813
margin_bottom = 45.1713
texture = ExtResource( 16 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="Control/TLCorner/Com7"]
margin_left = 100.0
margin_top = -6.0
margin_right = 186.0
margin_bottom = 34.0
custom_fonts/font = ExtResource( 15 )
custom_colors/font_color = Color( 1, 1, 1, 1 )
text = "100%"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Money" type="TextureRect" parent="Control/TLCorner"]
margin_left = 1100.0
margin_top = 13.0
margin_right = 1132.0
margin_bottom = 45.0
texture = ExtResource( 17 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="Control/TLCorner/Money"]
margin_left = 42.0
margin_top = -6.0
margin_right = 220.0
margin_bottom = 34.0
custom_fonts/font = ExtResource( 15 )
custom_colors/font_color = Color( 1, 1, 1, 1 )
text = "0"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="SettingsButton" type="Button" parent="Control"]
margin_left = -6.0
margin_top = -3.0
margin_right = 134.0
margin_bottom = 131.0
focus_mode = 0
enabled_focus_mode = 0
icon = ExtResource( 4 )
flat = true
[connection signal="timeout" from="cammount/cammount/DynaRes/MainViewport/Camera/MiniMapViewport/Timer" to="." method="_on_Viewport_timeout"]
[connection signal="gui_input" from="Control/Control/left" to="." method="_on_direction_touch" binds= [ 1 ]]
[connection signal="pressed" from="Control/Control/left" to="." method="switch_direction" binds= [ 1 ]]
[connection signal="gui_input" from="Control/Control/straight" to="." method="_on_direction_touch" binds= [ 2 ]]
[connection signal="pressed" from="Control/Control/straight" to="." method="switch_direction" binds= [ 2 ]]
[connection signal="gui_input" from="Control/Control/right" to="." method="_on_direction_touch" binds= [ 3 ]]
[connection signal="pressed" from="Control/Control/right" to="." method="switch_direction" binds= [ 3 ]]
[connection signal="pressed" from="Control/Control/door" to="." method="_on_door_pressed"]
[connection signal="pressed" from="Control/TRCorner/MapButton" to="Control/Minimap" method="_on_MapButton_pressed"]
